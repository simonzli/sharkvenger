(this.webpackJsonpsharkvenger=this.webpackJsonpsharkvenger||[]).push([[4],{503:function(e,t,n){"use strict";n.r(t),n.d(t,"HomePage",(function(){return z}));var a=n(484),i=n(0),r=n.n(i),c=n(486),o=n(483),l=n(148);function u(){var e=Object(o.useApp)(),t=e.view.width/e.renderer.resolution,n=1;return t<=375&&(n=.85),t<=320&&(n=.75),r.a.createElement(o.Container,{position:[14,16],scale:n},r.a.createElement(o.Sprite,{image:Object(l.c)("CAPS.png"),position:[2,0],scale:.6}),r.a.createElement(o.Sprite,{image:Object(l.c)("TBP.png"),position:[0,44],scale:.45}))}var s=n(113),d=n.n(s),f=n(66),p=n(149),h=n(485);function v(){var e=Object(o.useApp)(),t=e.screen,n=t.width,u=t.height,s={x:50,y:50},v={x:n-80-16,y:50},m={x:n/2-75,y:u/2-75-40},b=Object(i.useState)(),O=Object(a.a)(b,2),j=O[0],g=O[1],S=Object(i.useState)(),w=Object(a.a)(S,2),y=w[0],k=w[1],E=Object(i.useState)(!1),x=Object(a.a)(E,2),A=x[0],T=x[1],P=Object(i.useState)(),C=Object(a.a)(P,2),M=C[0],F=C[1],z=Object(i.useState)(),B=Object(a.a)(z,2),R=B[0],W=B[1],I=Object(i.useCallback)((function(e){e.clear(),e.lineStyle(7,2454697,.5),e.drawCircle(0,0,50),e.endFill()}),[]),D=Object(i.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M){e.next=2;break}return e.abrupt("return");case 2:(n=h.a.timeline()).pause(),n.fromTo(t.position,v,Object(f.a)(Object(f.a)({},m),{},{ease:"power2.inOut"}),0),n.fromTo(t.scale,Object(l.a)(.8),Object(f.a)(Object(f.a)({},Object(l.a)(1.5)),{},{ease:"power2.inOut"}),0),F(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[M]),G=Object(i.useCallback)(Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=2;break}return e.abrupt("return");case 2:t=M,n=A,T(!A),h.a.to(t.pause(),{duration:n?t.time():1,time:n?0:1});case 6:case"end":return e.stop()}}),e)}))),[A,M]),J=Object(i.useCallback)(Object(p.a)(d.a.mark((function e(){var t,n,a,i,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=2;break}return e.abrupt("return");case 2:t=Math.max(.6,Math.random()+.5),n={ease:"power2.inOut"},a=Object(f.a)({duration:1,repeat:-1,yoyo:!0},n),i=h.a.getTweensOf(y.scale);try{r=function(){var e=h.a.to(y.scale,Object(f.a)({x:1.5*t*.125,y:1.5*t*.125},a));e.eventCallback("onRepeat",(function(){var t;e.vars.repeatTime=(null!==(t=e.vars.repeatTime)&&void 0!==t?t:0)+1}))},i.filter((function(e){return!e.isActive()})).forEach((function(e){return e.pause()})),(c=i.filter((function(e){return e.isActive()}))).length>0?(c.slice(1).forEach((function(e){return e.pause()})),c[0].eventCallback("onRepeat",(function(){var e;c[0].vars.repeatTime=(null!==(e=c[0].vars.repeatTime)&&void 0!==e?e:0)+1,c[0].vars.repeatTime%2===0&&(c[0].pause(),r())}))):r()}catch(o){console.error(o)}case 7:case"end":return e.stop()}}),e)}))),[y]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Container,{ref:function(e){e&&!j&&(e.position.set(v.x,v.y),e.scale.set(.8,.8),g(e),D(e))},tap:G,click:G,interactive:!0},r.a.createElement(o.Graphics,{draw:I,anchor:[.5,.5],position:[s.x,s.y-5]}),r.a.createElement(o.Sprite,{ref:function(e){e&&(e.scale.set(.125,.125),k(e),Object(l.e)((function(e){W(e),J()})))},angle:15,image:Object(l.c)("heart.svg"),anchor:[.5,.55],position:s})),r.a.createElement(o.Text,{text:R?JSON.stringify({latitude:R.coords.latitude,longitude:R.coords.longitude,accuracy:"".concat(R.coords.accuracy," meters"),altitude:R.coords.altitude,altitudeAccuracy:R.coords.altitudeAccuracy},void 0,1):"",position:[16,120],style:new c.r({wordWrap:!0,wordWrapWidth:e.screen.width-32,fontSize:14,align:"left",letterSpacing:2})}))}var m,b,O=n(216);!function(e){e[e.MommyShark=0]="MommyShark",e[e.Suica=1]="Suica"}(b||(b={}));var j=(m={},Object(O.a)(m,b.MommyShark,"Mommy Shark"),Object(O.a)(m,b.Suica,"Pen Pen"),m),g={initialSetting:[{character:b.MommyShark},{character:b.Suica,position:"right"}],lines:[[{character:b.MommyShark,movements:["shake"],text:"Somebody kidnapped my baby while I was doing home schooling. Would you help me find him?"}],[{character:b.Suica,text:"Of course!",movements:["shake"]}]]},S=n(502),w=n(227);function y(e){var t=e.onClick,n=e.name,l=e.text,u=Object(i.useState)(!1),s=Object(a.a)(u,2),d=s[0],f=s[1],p=Object(i.useState)(""),v=Object(a.a)(p,2),m=v[0],b=v[1],O=Object(o.useApp)().screen,j=O.width,g=O.height;Object(i.useEffect)((function(){b(""),f(!1)}),[l]),Object(o.useTick)((function(e){if(l&&m.length<l.length){m.length===l.length-1&&f(!0);var t=m+l.charAt(m.length);t.length!==l.length&&Math.random()>.5&&(t+=l.charAt(l.length)),b(t)}}));var S=Math.min(400,j-16),w=(j-S)/2,y=function(e){d&&t&&t(e)};return r.a.createElement(o.Container,{position:[w,g-16-120-24],click:y,tap:y,interactive:!0},r.a.createElement(o.Graphics,{draw:function(e){0===e.getBounds().width&&(e.lineStyle(2,16777215,.8),e.beginFill(2368810,.5),e.drawRoundedRect(0,0,S,120,8),e.endFill())},position:[0,24]}),d&&r.a.createElement(o.Graphics,{draw:function(e){if(0===e.getBounds().width){e.lineStyle(2,16777215,.8),e.beginFill(16763394,1),e.moveTo(0,0),e.lineTo(18,8),e.lineTo(0,16),e.lineTo(0,0),e.closePath(),e.endFill();var t=S-30;e.position.set(t,116),h.a.to(e.position,{x:t+2,y:116,repeat:-1,duration:.25,yoyo:!0})}}}),n&&r.a.createElement(o.Text,{text:n,style:new c.r({fill:16777215,fontFamily:"'Roboto Mono', monospace",dropShadow:!0,dropShadowColor:819,dropShadowAngle:0,dropShadowBlur:4,dropShadowAlpha:.5,dropShadowDistance:4,fontSize:16,letterSpacing:1}),click:function(){return console.log(3232)}}),r.a.createElement(o.BitmapText,{text:m,position:[8,32],letterSpacing:.5,style:{fontName:"Lato",fontSize:16,maxWidth:S-16}}))}var k=n(490),E=function(e){return[e.initialPosition,e.initialAngle,e.initialScale,e.movements]},x=function(e,t){var n,a;if(t){var i={};t.initialPosition!==e.initialPosition&&(i.initialPosition=e.initialPosition),t.initialAngle!==e.initialAngle&&(i.initialAngle=e.initialAngle),t.initialScale!==e.initialScale&&(i.initialScale=e.initialScale);var r=new Set;return(null!==(n=e.movements)&&void 0!==n?n:[]).forEach((function(e){return r.add(e)})),(null!==(a=t.movements)&&void 0!==a?a:[]).forEach((function(e){return r.delete(e)})),i.movements=Array.from(r),i}},A=function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a,i,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>2&&void 0!==r[2]&&r[2],i=h.a.to(t.position,{y:a?n.y:n.y-40,duration:.5,ease:"power2.inOut",immediateRender:!1}),t.tint=a?10066329:16777215,t.zIndex=a?1:1e3,e.next=6,i.play();case 6:i.kill();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,i,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.length>1&&void 0!==r[1]?r[1]:.5,a=r.length>2&&void 0!==r[2]?r[2]:0;try{(i=h.a.timeline({immediateRender:!1})).to(t,{angle:-10+a,duration:n/2,ease:"power2.inOut"}),i.to(t,{angle:10+a,duration:n,ease:"power2.inOut",repeat:-1,yoyo:!0,onInterrupt:function(){h.a.to(t,{angle:a,duration:.25,ease:"power2.inOut"})}}),i.play()}catch(c){console.error(c)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e,t){var n,a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e&&t){if(r||void 0!==t.initialScale){var c,o=Object(l.a)(null!==(c=i.initialScale)&&void 0!==c?c:{x:1,y:1});if(t.initialScale){var u=t.initialScale.valueOf();o=Object(l.d)(o,u)}e.scale.set(o.x,o.y)}var s,d;if(r||void 0!==t.initialAngle)e.angle=(null!==(s=i.initialAngle)&&void 0!==s?s:0)+(null!==(d=t.initialAngle)&&void 0!==d?d:0);var f=Object(l.a)(null!==(n=i.initialPosition)&&void 0!==n?n:{x:0,y:0});(r||void 0!==t.initialPosition)&&e.position.set(f.x,f.y),r&&e.anchor.set(.5,.5);var p=null!==(a=t.movements)&&void 0!==a?a:[];h.a.killTweensOf(e),p.includes("active")&&A(e,f),p.includes("inactive")&&A(e,f,!0),p.includes("shake")&&T(e,.5,i.initialAngle)}};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(),n=Object(a.a)(t,2),c=n[0],u=n[1],s=Object(k.a)(e),d=Object(o.useApp)(),f=Object(l.a)([-Math.min(1.5,d.screen.width/500),Math.min(1.5,d.screen.width/500)]),p=-45,h={initialScale:f,initialAngle:p,initialPosition:e.initialPosition};return Object(i.useEffect)((function(){if(c){var t=x(e,s);P(c,t,h,!1)}}),E(e)),r.a.createElement(o.Sprite,{ref:function(t){t&&!c&&(u(t),P(t,e,h,!0))},image:Object(l.c)("shark.png")})}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(),n=Object(a.a)(t,2),c=n[0],u=n[1],s=Object(k.a)(e),d=Object(o.useApp)(),f=Object(l.a)([-Math.min(1.25,d.screen.width/600),Math.min(1.25,d.screen.width/600)]),p={initialScale:f,initialPosition:e.initialPosition};return Object(i.useEffect)((function(){if(c){var t=x(e,s);P(c,t,p,!1)}}),E(e)),r.a.createElement(o.Sprite,{ref:function(t){t&&!c&&(u(t),P(t,e,p,!0))},image:Object(l.c)("suica.png")})}function F(e){var t,n=e.script,c=Object(i.useState)(0),l=Object(a.a)(c,2),u=l[0],s=l[1],d=Object(i.useState)([]),p=Object(a.a)(d,2),h=p[0],v=p[1],m=Object(o.useApp)().screen,O=m.width,g=m.height;Object(i.useEffect)((function(){T()}),[u]);var k=function(e){switch(e){case b.MommyShark:return C;case b.Suica:return M;default:throw new Error("Unknown character:"+e)}},E=function(e){return n.lines[u][0].character===e?"active":"inactive"},x=function(e){return h.find((function(t){return t.character===e}))},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return void 0===e.character||(t&&(n.initialPosition=[48,g-130],n.initialScale=[1,1],"right"===e.position&&(n.initialPosition[0]=O-90,n.initialScale[0]=-1)),n.movements=[E(e.character)]),n},T=function(){var e=Object(w.a)(h);if(0===u){var t,a=Object(S.a)(n.initialSetting);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(void 0===x(i.character)){var r=k(i.character);e.push({character:i.character,sprite:r,props:A(i,!0)})}}}catch(d){a.e(d)}finally{a.f()}}var c,o=n.lines[u],l=Object(S.a)(e);try{var s=function(){var e,t=c.value,n=o.find((function(e){return e.character===t.character}));t.props=Object(f.a)(Object(f.a)({},t.props),{},{movements:[].concat(Object(w.a)(null!==(e=null===n||void 0===n?void 0:n.movements)&&void 0!==e?e:[]),[E(t.character)])})};for(l.s();!(c=l.n()).done;)s()}catch(d){l.e(d)}finally{l.f()}v(e)};return r.a.createElement(r.a.Fragment,null,h.map((function(e){return r.a.createElement(e.sprite,Object.assign({},e.props,{key:e.character}))})),r.a.createElement(y,{name:j[null!==(t=n.lines[u][0].character)&&void 0!==t?t:-1],text:n.lines[u][0].text,onClick:function(){return s(1-u)}}))}function z(){var e=Object(i.useState)(!1),t=Object(a.a)(e,2),n=t[0],s=t[1],d=Object(i.useState)(!1),f=Object(a.a)(d,2),p=f[0],h=f[1],m=Object(i.useState)(),b=Object(a.a)(m,2),O=b[0],j=b[1],S=Object(i.useState)(0),w=Object(a.a)(S,2),y=w[0],k=w[1];Object(i.useEffect)((function(){return E()}),[]);var E=function(){(new c.i).add("Lato",Object(l.c)("/Lato.fnt"),new c.r({dropShadowColor:819,dropShadowAngle:0,dropShadowBlur:2,dropShadowAlpha:.5,dropShadowDistance:2,letterSpacing:.5})).load((function(){h(!0)}))};return window.onresize=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;e&&(s(!1),e.resize(),s(!0))}()},r.a.createElement("div",{id:"canvas",style:{opacity:y}},r.a.createElement(o.Stage,{width:400,onMount:function(e){j(e),e.resizeTo=document.getElementById("canvas"),setTimeout((function(){e.resize(),s(!0),k(1)}))},options:{forceCanvas:!1,antialias:!0,backgroundColor:5419993,autoDensity:!0,autoStart:!0}},n&&p&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(v,null),r.a.createElement(F,{script:g}))))}}}]);