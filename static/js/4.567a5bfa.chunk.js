(this.webpackJsonpsharkvenger=this.webpackJsonpsharkvenger||[]).push([[4],{503:function(e,t,a){"use strict";a.r(t),a.d(t,"HomePage",(function(){return R}));var n,i,r=a(484),c=a(0),o=a.n(c),l=a(485),s=a(483),u=a(215);!function(e){e[e.MommyShark=0]="MommyShark",e[e.Suica=1]="Suica"}(i||(i={}));var f=(n={},Object(u.a)(n,i.MommyShark,"Mommy Shark"),Object(u.a)(n,i.Suica,"Pen Pen"),n),d={initialSetting:[{character:i.MommyShark},{character:i.Suica,position:"right"}],lines:[[{character:i.MommyShark,movements:["!shake"],text:"Somebody kidnapped my baby while I was doing home schooling. Would you help me find him?"},{character:i.Suica,movements:["!shake"]}],[{character:i.Suica,text:"Of course!",movements:["shake"]}],[{character:i.MommyShark,movements:["shake"],text:"Thank you!!!"},{character:i.Suica,movements:["active","shake"]}]]},p=a(66),h=a(502),v=a(227),m=a(147);function b(){var e=Object(m.c)("BBB.jpg"),t=Object(s.useApp)().screen,a=t.width,n=t.height,i=a/n>.75?a/600:n/800,r={x:a/2,y:n/2};return o.a.createElement(s.Sprite,{image:e,anchor:.5,position:r,scale:i})}var O=a(486),j=new l.s({fill:16777215,fontFamily:"'Roboto Mono', monospace",dropShadow:!0,dropShadowColor:0,dropShadowAngle:0,dropShadowBlur:4,dropShadowAlpha:.8,dropShadowDistance:0,fontSize:16,letterSpacing:1});function S(e){var t=e.onClick,a=e.name,n=e.text,i=e.namePosition,l=void 0===i?"left":i,u=Object(c.useState)(!1),f=Object(r.a)(u,2),d=f[0],p=f[1],h=Object(c.useState)(""),v=Object(r.a)(h,2),m=v[0],b=v[1],S=Object(s.useApp)().screen,g=S.width,w=S.height;Object(c.useEffect)((function(){y()}),[]),Object(c.useEffect)((function(){p(!1),y()}),[n]);var y=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n&&(b(t),t.length<n.length?setTimeout((function(){return e(t+n.charAt(t.length))}),15):p(!0))},k=Math.min(400,g-16),x=(g-k)/2,E=function(e){d&&t&&t(e)};return o.a.createElement(s.Container,{position:[x,w-16-120-24],click:E,tap:E,interactive:!0},o.a.createElement(s.Graphics,{draw:function(e){0===e.getBounds().width&&(e.lineStyle(2,16777215,.8),e.beginFill(2368810,.5),e.drawRoundedRect(0,0,k,120,8),e.endFill())},position:[0,24]}),d&&o.a.createElement(s.Graphics,{draw:function(e){if(0===e.getBounds().width){e.lineStyle(2,16777215,.8),e.beginFill(16763394,1),e.moveTo(0,0),e.lineTo(18,8),e.lineTo(0,16),e.lineTo(0,0),e.closePath(),e.endFill();var t=k-30;e.position.set(t,116),O.a.to(e.position,{x:t+2,y:116,repeat:-1,duration:.25,yoyo:!0})}}}),function(){if(a)switch(l){case"left":return o.a.createElement(s.Text,{text:a,anchor:[0,0],x:0,style:j});case"middle":return o.a.createElement(s.Text,{text:a,anchor:[.5,0],x:k/2,style:j});case"right":return o.a.createElement(s.Text,{text:a,anchor:[1,0],x:k,style:j})}}(),o.a.createElement(s.BitmapText,{text:m,position:[8,32],letterSpacing:.5,style:{fontName:"Lato",fontSize:16,maxWidth:k-16}}))}var g=a(112),w=a.n(g),y=a(148);function k(){var e=Object(s.useApp)(),t=e.screen,a=t.width,n=t.height,i={x:50,y:50},u={x:a-80-16,y:50},f={x:a/2-75,y:n/2-75-40},d=Object(c.useState)(),h=Object(r.a)(d,2),v=h[0],b=h[1],j=Object(c.useState)(),S=Object(r.a)(j,2),g=S[0],k=S[1],x=Object(c.useState)(!1),E=Object(r.a)(x,2),A=E[0],T=E[1],P=Object(c.useState)(),C=Object(r.a)(P,2),M=C[0],B=C[1],F=Object(c.useState)(),z=Object(r.a)(F,2),R=z[0],I=z[1],W=Object(c.useCallback)((function(e){e.clear(),e.beginFill(5419993),e.lineStyle(7,3970242),e.drawCircle(0,0,50),e.endFill()}),[]),D=Object(c.useCallback)(function(){var e=Object(y.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M){e.next=2;break}return e.abrupt("return");case 2:(a=O.a.timeline()).pause(),a.fromTo(t.position,u,Object(p.a)(Object(p.a)({},f),{},{ease:"power2.inOut"}),0),a.fromTo(t.scale,Object(m.a)(.8),Object(p.a)(Object(p.a)({},Object(m.a)(1.5)),{},{ease:"power2.inOut"}),0),B(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[M]),G=Object(c.useCallback)(Object(y.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=2;break}return e.abrupt("return");case 2:t=M,a=A,T(!A),O.a.to(t.pause(),{duration:a?t.time():1,time:a?0:1});case 6:case"end":return e.stop()}}),e)}))),[A,M]),J=Object(c.useCallback)(Object(y.a)(w.a.mark((function e(){var t,a,n,i,r,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:t=Math.max(.6,Math.random()+.5),a={ease:"power2.inOut"},n=Object(p.a)({duration:1,repeat:-1,yoyo:!0},a),i=O.a.getTweensOf(g.scale);try{r=function(){var e=O.a.to(g.scale,Object(p.a)({x:1.5*t*.125,y:1.5*t*.125},n));e.eventCallback("onRepeat",(function(){var t;e.vars.repeatTime=(null!==(t=e.vars.repeatTime)&&void 0!==t?t:0)+1}))},i.filter((function(e){return!e.isActive()})).forEach((function(e){return e.pause()})),(c=i.filter((function(e){return e.isActive()}))).length>0?(c.slice(1).forEach((function(e){return e.pause()})),c[0].eventCallback("onRepeat",(function(){var e;c[0].vars.repeatTime=(null!==(e=c[0].vars.repeatTime)&&void 0!==e?e:0)+1,c[0].vars.repeatTime%2===0&&(c[0].pause(),r())}))):r()}catch(o){console.error(o)}case 7:case"end":return e.stop()}}),e)}))),[g]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.Container,{ref:function(e){e&&!v&&(e.position.set(u.x,u.y),e.scale.set(.8,.8),b(e),D(e))},tap:G,click:G,interactive:!0},o.a.createElement(s.Graphics,{draw:W,anchor:[.5,.5],position:[i.x,i.y-5]}),o.a.createElement(s.Sprite,{ref:function(e){e&&(e.scale.set(.125,.125),k(e),Object(m.e)((function(e){I(e),J()})))},angle:15,image:Object(m.c)("heart.svg"),anchor:[.5,.55],position:i})),o.a.createElement(s.Text,{text:R?JSON.stringify({latitude:R.coords.latitude,longitude:R.coords.longitude,accuracy:"".concat(R.coords.accuracy," meters"),altitude:R.coords.altitude,altitudeAccuracy:R.coords.altitudeAccuracy},void 0,1):"",position:[16,120],style:new l.s({wordWrap:!0,wordWrapWidth:e.screen.width-32,fontSize:14,align:"left",letterSpacing:2})}))}function x(){var e=Object(s.useApp)(),t=e.view.width/e.renderer.resolution,a=1;return t<=375&&(a=.85),t<=320&&(a=.75),o.a.createElement(s.Container,{position:[14,16],scale:a},o.a.createElement(s.Sprite,{image:Object(m.c)("CAPS.png"),position:[2,0],scale:.6}),o.a.createElement(s.Sprite,{image:Object(m.c)("TBP.png"),position:[0,44],scale:.45}))}var E=a(490),A=function(e){return[e.initialPosition,e.initialAngle,e.initialScale,e.movements]},T=function(e,t){var a,n;if(t){var i={};t.initialPosition!==e.initialPosition&&(i.initialPosition=e.initialPosition),t.initialAngle!==e.initialAngle&&(i.initialAngle=e.initialAngle),t.initialScale!==e.initialScale&&(i.initialScale=e.initialScale);var r=new Set;return(null!==(a=e.movements)&&void 0!==a?a:[]).forEach((function(e){return r.add(e)})),(null!==(n=t.movements)&&void 0!==n?n:[]).forEach((function(e){return r.delete(e)})),i.movements=Array.from(r),i}},P=function(){var e=Object(y.a)(w.a.mark((function e(t,a){var n,i,r=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]&&r[2],i=O.a.to(t.position,{y:n?a.y:a.y-40,duration:.5,ease:"power2.inOut",immediateRender:!1}),t.tint=n?10066329:16777215,t.zIndex=n?1:1e3,e.next=6,i.play();case 6:i.kill();case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n,i,r=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.length>1&&void 0!==r[1]?r[1]:.5,n=r.length>2&&void 0!==r[2]?r[2]:0;try{(i=O.a.timeline({immediateRender:!1})).to(t.transform,{rotation:l.e*(-10+n),duration:a/2,ease:"power2.inOut"}),i.to(t.transform,{rotation:l.e*(10+n),duration:a,ease:"power2.inOut",repeat:-1,yoyo:!0,onRepeat:function(){this._targets[0]||this.kill()},onInterrupt:function(){t&&O.a.to(t.transform,{rotation:l.e*n,duration:.25,ease:"power2.inOut"})}}),i.play()}catch(c){console.error(c)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e,t){var a,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e&&t){if(r||void 0!==t.initialScale){var c,o=Object(m.a)(null!==(c=i.initialScale)&&void 0!==c?c:{x:1,y:1});if(t.initialScale){var l=t.initialScale.valueOf();o=Object(m.d)(o,l)}e.scale.set(o.x,o.y)}var s,u;if(r||void 0!==t.initialAngle)e.angle=(null!==(s=i.initialAngle)&&void 0!==s?s:0)+(null!==(u=t.initialAngle)&&void 0!==u?u:0);var f=Object(m.a)(null!==(a=i.initialPosition)&&void 0!==a?a:{x:0,y:0});(r||void 0!==t.initialPosition)&&e.position.set(f.x,f.y),r&&e.anchor.set(.5,.5);var d=null!==(n=t.movements)&&void 0!==n?n:[];d.includes("active")?P(e,f):d.includes("!active")&&P(e,f,!0),d.includes("shake")?C(e,.5,i.initialAngle):d.includes("!shake")&&O.a.killTweensOf(e.transform,"rotation")}};function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(),a=Object(r.a)(t,2),n=a[0],i=a[1],l=Object(E.a)(e),u=Object(s.useApp)(),f=Object(m.a)([-Math.min(1.5,u.screen.width/500),Math.min(1.5,u.screen.width/500)]),d=-45,p={initialScale:f,initialAngle:d,initialPosition:e.initialPosition};return Object(c.useEffect)((function(){if(n){var t=T(e,l);M(n,t,p,!1)}}),A(e)),o.a.createElement(s.Sprite,{ref:function(t){t&&!n&&(i(t),M(t,e,p,!0))},image:Object(m.c)("shark.png")})}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(),a=Object(r.a)(t,2),n=a[0],i=a[1],l=Object(E.a)(e),u=Object(s.useApp)(),f=Object(m.a)([-Math.min(1.25,u.screen.width/600),Math.min(1.25,u.screen.width/600)]),d={initialScale:f,initialPosition:e.initialPosition};return Object(c.useEffect)((function(){if(n){var t=T(e,l);M(n,t,d,!1)}}),A(e)),o.a.createElement(s.Sprite,{ref:function(t){t&&!n&&(i(t),M(t,e,d,!0))},image:Object(m.c)("suica.png")})}function z(e){var t,a,n,l,u=e.script,d=Object(c.useState)(+(null!==(t=localStorage.getItem("line"))&&void 0!==t?t:0)),m=Object(r.a)(d,2),O=m[0],j=m[1],g=Object(c.useState)(!1),w=Object(r.a)(g,2),y=w[0],E=w[1],A=Object(c.useState)([]),T=Object(r.a)(A,2),P=T[0],C=T[1],M=Object(s.useApp)().screen,z=M.width,R=M.height;Object(c.useEffect)((function(){J()}),[O]);var I=function(e){switch(e){case i.MommyShark:return B;case i.Suica:return F;default:throw new Error("Unknown character:"+e)}},W=function(e){var t;if(u.lines[O][0].character===e)return"active";var a=u.lines[O].find((function(t){return t.character===e}));return a&&(null===(t=a.movements)||void 0===t?void 0:t.includes("active"))?"active":"!active"},D=function(e){return P.find((function(t){return t.character===e}))},G=function(e,t){var a={};if(void 0===e.character)return a;var n=R-130;return void 0===t&&(a.initialPosition=[48,n],a.initialScale=[1,1],"right"===e.position&&(a.initialPosition[0]=z-90,a.initialScale[0]=-1)),a.movements=[W(e.character)],a},J=function(){var e=Object(v.a)(P);if(!y){var t,a=Object(h.a)(u.initialSetting);try{for(a.s();!(t=a.n()).done;){var n,i=t.value;if(void 0===D(i.character)){var r=I(i.character);e.push({position:null!==(n=i.position)&&void 0!==n?n:"left",character:i.character,sprite:r,props:G(i)})}}}catch(f){a.e(f)}finally{a.f()}E(!0)}var c,o=u.lines[O],l=Object(h.a)(e);try{var s=function(){var e,t=c.value,a=o.find((function(e){return e.character===t.character}));t.props=Object(p.a)(Object(p.a)({},t.props),{},{movements:[].concat(Object(v.a)(null!==(e=null===a||void 0===a?void 0:a.movements)&&void 0!==e?e:[]),[W(t.character)])})};for(l.s();!(c=l.n()).done;)s()}catch(f){l.e(f)}finally{l.f()}C(e)},L=f[null!==(a=u.lines[O][0].character)&&void 0!==a?a:-1],N=D(null!==(n=u.lines[O][0].character)&&void 0!==n?n:-1);return o.a.createElement(o.a.Fragment,null,o.a.createElement(b,null),o.a.createElement(x,null),o.a.createElement(k,null),P.map((function(e){return o.a.createElement(e.sprite,Object.assign({},e.props,{key:e.character}))})),o.a.createElement(S,{name:L,namePosition:null!==(l=null===N||void 0===N?void 0:N.position)&&void 0!==l?l:"left",text:u.lines[O][0].text,onClick:function(){var e=u.lines.length===O+1?0:O+1;localStorage.setItem("line",""+e),j(e)}}))}function R(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(!1),u=Object(r.a)(i,2),f=u[0],p=u[1],h=Object(c.useState)(),v=Object(r.a)(h,2),b=v[0],O=v[1],j=Object(c.useState)(0),S=Object(r.a)(j,2),g=S[0],w=S[1];Object(c.useEffect)((function(){return y()}),[]);var y=function(){(new l.j).add("Lato",Object(m.c)("/Lato.fnt"),new l.s({dropShadowColor:819,dropShadowAngle:0,dropShadowBlur:2,dropShadowAlpha:.5,dropShadowDistance:2,letterSpacing:.5})).load((function(){p(!0)}))};return window.onresize=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;e&&(n(!1),e.resize(),n(!0))}()},o.a.createElement("div",{id:"canvas",style:{opacity:g}},o.a.createElement(s.Stage,{width:400,onMount:function(e){O(e),e.resizeTo=document.getElementById("canvas"),setTimeout((function(){e.resize(),n(!0),w(1)}))},options:{forceCanvas:!1,antialias:!0,backgroundColor:5419993,autoDensity:!0,autoStart:!0}},a&&f&&o.a.createElement(o.a.Fragment,null,o.a.createElement(z,{script:d}))))}}}]);