(this.webpackJsonpsharkvenger=this.webpackJsonpsharkvenger||[]).push([[4],{503:function(e,t,a){"use strict";a.r(t),a.d(t,"HomePage",(function(){return z}));var n=a(484),i=a(0),r=a.n(i),c=a(486),o=a(483),l=a(148);function u(){var e=Object(o.useApp)(),t=e.view.width/e.renderer.resolution,a=1;return t<=375&&(a=.85),t<=320&&(a=.75),r.a.createElement(o.Container,{position:[14,16],scale:a},r.a.createElement(o.Sprite,{image:Object(l.c)("CAPS.png"),position:[2,0],scale:.6}),r.a.createElement(o.Sprite,{image:Object(l.c)("TBP.png"),position:[0,44],scale:.45}))}var s=a(113),d=a.n(s),p=a(66),f=a(149),h=a(485);function v(){var e=Object(o.useApp)(),t=e.screen,a=t.width,u=t.height,s={x:50,y:50},v={x:a-80-16,y:50},m={x:a/2-75,y:u/2-75-40},b=Object(i.useState)(),O=Object(n.a)(b,2),j=O[0],g=O[1],S=Object(i.useState)(),w=Object(n.a)(S,2),y=w[0],k=w[1],E=Object(i.useState)(!1),x=Object(n.a)(E,2),A=x[0],T=x[1],C=Object(i.useState)(),M=Object(n.a)(C,2),P=M[0],F=M[1],z=Object(i.useState)(),B=Object(n.a)(z,2),R=B[0],W=B[1],I=Object(i.useCallback)((function(e){e.clear(),e.lineStyle(7,2454697,.5),e.drawCircle(0,0,50),e.endFill()}),[]),D=Object(i.useCallback)(function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=2;break}return e.abrupt("return");case 2:(a=h.a.timeline()).pause(),a.fromTo(t.position,v,Object(p.a)(Object(p.a)({},m),{},{ease:"power2.inOut"}),0),a.fromTo(t.scale,Object(l.a)(.8),Object(p.a)(Object(p.a)({},Object(l.a)(1.5)),{},{ease:"power2.inOut"}),0),F(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P]),G=Object(i.useCallback)(Object(f.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=2;break}return e.abrupt("return");case 2:t=P,a=A,T(!A),h.a.to(t.pause(),{duration:a?t.time():1,time:a?0:1});case 6:case"end":return e.stop()}}),e)}))),[A,P]),J=Object(i.useCallback)(Object(f.a)(d.a.mark((function e(){var t,a,n,i,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=2;break}return e.abrupt("return");case 2:t=Math.max(.6,Math.random()+.5),a={ease:"power2.inOut"},n=Object(p.a)({duration:1,repeat:-1,yoyo:!0},a),i=h.a.getTweensOf(y.scale);try{r=function(){var e=h.a.to(y.scale,Object(p.a)({x:1.5*t*.125,y:1.5*t*.125},n));e.eventCallback("onRepeat",(function(){var t;e.vars.repeatTime=(null!==(t=e.vars.repeatTime)&&void 0!==t?t:0)+1}))},i.filter((function(e){return!e.isActive()})).forEach((function(e){return e.pause()})),(c=i.filter((function(e){return e.isActive()}))).length>0?(c.slice(1).forEach((function(e){return e.pause()})),c[0].eventCallback("onRepeat",(function(){var e;c[0].vars.repeatTime=(null!==(e=c[0].vars.repeatTime)&&void 0!==e?e:0)+1,c[0].vars.repeatTime%2===0&&(c[0].pause(),r())}))):r()}catch(o){console.error(o)}case 7:case"end":return e.stop()}}),e)}))),[y]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Container,{ref:function(e){e&&!j&&(e.position.set(v.x,v.y),e.scale.set(.8,.8),g(e),D(e))},tap:G,click:G,interactive:!0},r.a.createElement(o.Graphics,{draw:I,anchor:[.5,.5],position:[s.x,s.y-5]}),r.a.createElement(o.Sprite,{ref:function(e){e&&(e.scale.set(.125,.125),k(e),Object(l.e)((function(e){W(e),J()})))},angle:15,image:Object(l.c)("heart.svg"),anchor:[.5,.55],position:s})),r.a.createElement(o.Text,{text:R?JSON.stringify({latitude:R.coords.latitude,longitude:R.coords.longitude,accuracy:"".concat(R.coords.accuracy," meters"),altitude:R.coords.altitude,altitudeAccuracy:R.coords.altitudeAccuracy},void 0,1):"",position:[16,120],style:new c.r({wordWrap:!0,wordWrapWidth:e.screen.width-32,fontSize:14,align:"left",letterSpacing:2})}))}var m,b,O=a(216);!function(e){e[e.MommyShark=0]="MommyShark",e[e.Suica=1]="Suica"}(b||(b={}));var j=(m={},Object(O.a)(m,b.MommyShark,"Mommy Shark"),Object(O.a)(m,b.Suica,"Pen Pen"),m),g={initialSetting:[{character:b.MommyShark},{character:b.Suica,position:"right"}],lines:[[{character:b.MommyShark,text:"Somebody kidnapped my baby while I was doing home schooling. Would you help me find him?"}],[{character:b.Suica,text:"Of course!",movements:["shake"]}]]},S=a(502),w=a(227);function y(e){var t=e.onClick,a=e.name,l=e.text,u=Object(i.useState)(!1),s=Object(n.a)(u,2),d=s[0],p=s[1],f=Object(i.useState)(""),v=Object(n.a)(f,2),m=v[0],b=v[1],O=Object(o.useApp)().screen,j=O.width,g=O.height;Object(i.useEffect)((function(){b(""),p(!1)}),[l]),Object(o.useTick)((function(e){if(l&&m.length<l.length){m.length===l.length-1&&p(!0);var t=m+l.charAt(m.length);t.length!==l.length&&Math.random()>.5&&(t+=l.charAt(l.length)),b(t)}}));var S=Math.min(400,j-16),w=(j-S)/2,y=function(e){d&&t&&t(e)};return r.a.createElement(o.Container,{position:[w,g-16-120-24],click:y,tap:y,interactive:!0},r.a.createElement(o.Graphics,{draw:function(e){0===e.getBounds().width&&(e.lineStyle(2,16777215,.8),e.beginFill(2368810,.5),e.drawRoundedRect(0,0,S,120,8),e.endFill())},position:[0,24]}),d&&r.a.createElement(o.Graphics,{draw:function(e){if(0===e.getBounds().width){e.lineStyle(2,16777215,.8),e.beginFill(16763394,1),e.moveTo(0,0),e.lineTo(18,8),e.lineTo(0,16),e.lineTo(0,0),e.closePath(),e.endFill();var t=S-30;e.position.set(t,116),h.a.to(e.position,{x:t+2,y:116,repeat:-1,duration:.25,yoyo:!0})}}}),a&&r.a.createElement(o.Text,{text:a,style:new c.r({fill:16777215,fontFamily:"'Roboto Mono', monospace",dropShadow:!0,dropShadowColor:819,dropShadowAngle:0,dropShadowBlur:4,dropShadowAlpha:.5,dropShadowDistance:4,fontSize:16,letterSpacing:1}),click:function(){return console.log(3232)}}),r.a.createElement(o.BitmapText,{text:m,position:[8,32],letterSpacing:.5,style:{fontName:"Lato",fontSize:16,maxWidth:S-16}}))}var k=a(490),E=function(e){return[e.initialPosition,e.initialAngle,e.initialScale,e.movements]},x=function(e,t){var a,n;if(t){var i={};t.initialPosition!==e.initialPosition&&(i.initialPosition=e.initialPosition),t.initialAngle!==e.initialAngle&&(i.initialAngle=e.initialAngle),t.initialScale!==e.initialScale&&(i.initialScale=e.initialScale);var r=new Set;return(null!==(a=e.movements)&&void 0!==a?a:[]).forEach((function(e){return r.add(e)})),(null!==(n=t.movements)&&void 0!==n?n:[]).forEach((function(e){return r.delete(e)})),i.movements=Array.from(r),i}},A=function(){var e=Object(f.a)(d.a.mark((function e(t){var a,n,i=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]&&i[1],n=h.a.to(t.position,{y:a?t.position.y+40:t.position.y-40,duration:.5,ease:"power2.inOut",immediateRender:!1}),t.tint=a?10066329:16777215,t.zIndex=a?1:1e3,e.next=6,n.play();case 6:n.kill();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(d.a.mark((function e(t){var a,n,i,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.length>1&&void 0!==r[1]?r[1]:.5,n=r.length>2&&void 0!==r[2]?r[2]:0;try{(i=h.a.timeline({immediateRender:!1})).to(t,{angle:-10+n,duration:a/2,ease:"power2.inOut"}),i.to(t,{angle:10+n,duration:a,ease:"power2.inOut",repeat:-1,yoyo:!0,onInterrupt:function(){h.a.to(t,{angle:n,duration:.25,ease:"power2.inOut"})}}),i.play()}catch(c){console.error(c)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e&&t){if(i||void 0!==t.initialScale){var r,c=Object(l.a)(null!==(r=n.initialScale)&&void 0!==r?r:{x:1,y:1});if(t.initialScale){var o=t.initialScale.valueOf();c=Object(l.d)(c,o)}e.scale.set(c.x,c.y)}var u,s;if(i||void 0!==t.initialAngle)e.angle=(null!==(u=n.initialAngle)&&void 0!==u?u:0)+(null!==(s=t.initialAngle)&&void 0!==s?s:0);if(i||void 0!==t.initialPosition){var d,p=Object(l.a)(null!==(d=t.initialPosition)&&void 0!==d?d:{x:0,y:0});e.position.set(p.x,p.y)}i&&e.anchor.set(.5,.5);var f=null!==(a=t.movements)&&void 0!==a?a:[];h.a.killTweensOf(e),f.includes("active")&&A(e),f.includes("inactive")&&A(e,!0),f.includes("shake")&&T(e)}};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(),a=Object(n.a)(t,2),c=a[0],u=a[1],s=Object(k.a)(e),d=Object(o.useApp)(),p=Object(l.a)([-Math.min(1.5,d.screen.width/500),Math.min(1.5,d.screen.width/500)]),f=-45,h={initialScale:p,initialAngle:f};return Object(i.useEffect)((function(){if(c){var t=x(e,s);C(c,t,h,!1)}}),E(e)),r.a.createElement(o.Sprite,{ref:function(t){t&&!c&&(u(t),C(t,e,h,!0))},image:Object(l.c)("shark.png")})}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(),a=Object(n.a)(t,2),c=a[0],u=a[1],s=Object(k.a)(e),d=Object(o.useApp)(),p=Object(l.a)([-Math.min(1.25,d.screen.width/600),Math.min(1.25,d.screen.width/600)]),f={initialScale:p};return Object(i.useEffect)((function(){if(c){var t=x(e,s);C(c,t,f,!1)}}),E(e)),r.a.createElement(o.Sprite,{ref:function(t){t&&!c&&(u(t),C(t,e,f,!0))},image:Object(l.c)("suica.png")})}function F(e){var t,a=e.script,c=Object(i.useState)(0),l=Object(n.a)(c,2),u=l[0],s=l[1],d=Object(i.useState)([]),f=Object(n.a)(d,2),h=f[0],v=f[1],m=Object(o.useApp)().screen,O=m.width,g=m.height;Object(i.useEffect)((function(){T()}),[u]);var k=function(e){switch(e){case b.MommyShark:return M;case b.Suica:return P;default:throw new Error("Unknown character:"+e)}},E=function(e){return a.lines[u][0].character===e?"active":"inactive"},x=function(e){return h.find((function(t){return t.character===e}))},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};return void 0===e.character||(t&&(a.initialPosition=[48,g-130],a.initialScale=[1,1],"right"===e.position&&(a.initialPosition[0]=O-90,a.initialScale[0]=-1)),a.movements=[E(e.character)]),a},T=function(){var e=Object(w.a)(h);if(0===u){var t,n=Object(S.a)(a.initialSetting);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(void 0===x(i.character)){var r=k(i.character);e.push({character:i.character,sprite:r,props:A(i,!0)})}}}catch(d){n.e(d)}finally{n.f()}}var c,o=a.lines[u],l=Object(S.a)(e);try{var s=function(){var e,t=c.value,a=o.find((function(e){return e.character===t.character}));t.props=Object(p.a)(Object(p.a)({},t.props),{},{movements:[].concat(Object(w.a)(null!==(e=null===a||void 0===a?void 0:a.movements)&&void 0!==e?e:[]),[E(t.character)])})};for(l.s();!(c=l.n()).done;)s()}catch(d){l.e(d)}finally{l.f()}v(e)};return r.a.createElement(r.a.Fragment,null,h.map((function(e){return r.a.createElement(e.sprite,Object.assign({},e.props,{key:e.character}))})),r.a.createElement(y,{name:j[null!==(t=a.lines[u][0].character)&&void 0!==t?t:-1],text:a.lines[u][0].text,onClick:function(){return s(1-u)}}))}function z(){var e=Object(i.useState)(!1),t=Object(n.a)(e,2),a=t[0],s=t[1],d=Object(i.useState)(!1),p=Object(n.a)(d,2),f=p[0],h=p[1],m=Object(i.useState)(),b=Object(n.a)(m,2),O=b[0],j=b[1],S=Object(i.useState)(0),w=Object(n.a)(S,2),y=w[0],k=w[1];Object(i.useEffect)((function(){return E()}),[]);var E=function(){(new c.i).add("Lato",Object(l.c)("/Lato.fnt"),new c.r({dropShadowColor:819,dropShadowAngle:0,dropShadowBlur:2,dropShadowAlpha:.5,dropShadowDistance:2,letterSpacing:.5})).load((function(){h(!0)}))};return window.onresize=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;e&&(s(!1),e.resize(),s(!0))}()},r.a.createElement("div",{id:"canvas",style:{opacity:y}},r.a.createElement(o.Stage,{width:400,onMount:function(e){j(e),e.resizeTo=document.getElementById("canvas"),setTimeout((function(){e.resize(),s(!0),k(1)}))},options:{forceCanvas:!1,antialias:!0,backgroundColor:5419993,autoDensity:!0,autoStart:!0}},a&&f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(v,null),r.a.createElement(F,{script:g}))))}}}]);